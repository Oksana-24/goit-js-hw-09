{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,UAEtCF,EAAKI,iBAAiB,UAuBtB,SAAkBC,GAChBA,EAAMC,iBACNH,EAAOI,gBAAgB,YAGvB,MAAQC,UAAYC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,IAAaP,EAAMQ,cAEpD,IAAIC,EAAmBC,OAAOL,EAAMM,OAChCC,EAAkBF,OAAOJ,EAAKK,OAC9BE,EAAoBH,OAAOH,EAAOI,OAEtC,MAAMG,EAAYC,aAAY,KAvBhC,IAAuBC,EAAUZ,EAsC7B,IAtCmBY,EAyBLC,EAzBeb,EAyBLK,EAxBV,IAAIS,SAAQ,CAACC,EAASC,KAChBC,KAAKC,SAAW,GAEhCH,EAAQ,CAACI,SAAAP,E,MAASZ,IAElBgB,EAAO,CAACG,SAAAP,E,MAASZ,GAAO,GAE5BA,IAkBGoB,MAAK,EAAGD,SAAAE,EAAQrB,MAAEA,MACrBX,EAAAiC,OAAOC,QAAQ,qBAAqBF,QAAerB,MAAUwB,EAAO,IAEjEC,OAAM,EAAGN,SAAAO,EAAQ1B,MAAEA,MACtBX,EAAAiC,OAAOK,QAAQ,oBAAoBD,QAAe1B,MAAUwB,EAAO,IAClEI,SAAQ,KACTrC,EAAKsC,OAAO,IAMRhB,IAAaJ,EAKf,OAJAI,EAAW,EACXiB,cAAcpB,QACdhB,EAAOqC,gBAAgB,YAIzBlB,GAAY,EACZR,GAAoBG,CAAe,GAEnCH,E,IAzDJ,IAAIQ,EAAW,EAEf,MAAMW,EAAS,CACbQ,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst button = document.querySelector('button');\n\nform.addEventListener('submit', onSubmit);\n\nlet position = 1;\n\nconst option = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n};\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n  const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({position,delay})\n      } else {\n        reject({position,delay})\n      }\n  },delay)\n  return promise\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  button.toggleAttribute(\"disabled\");\n\n\n  const { elements: { delay, step, amount } } = event.currentTarget;\n\n  let delayFromPromise = Number(delay.value);\n  let stepFromPromise = Number(step.value);\n  let amountFromPromise = Number(amount.value);\n  \n  const promiseID = setInterval(() => {\n\n    createPromise(position, delayFromPromise)\n      .then(({ position, delay }) => {\n    Notify.success(`Fulfilled promise ${position} in ${delay}ms`,option);\n  })\n      .catch(({ position, delay }) => {\n    Notify.failure(`Rejected promise ${position} in ${delay}ms`,option);\n  }).finally(() => {\n    form.reset();\n    // console.log(delayFromPromise);\n    // console.log(stepFromPromise);\n    // console.log(amountFromPromise);\n  })\n    \n    if (position === amountFromPromise) {\n      position = 1;\n      clearInterval(promiseID);\n      button.removeAttribute(\"disabled\");\n      \n      return\n    }\n    position += 1\n    delayFromPromise += stepFromPromise;\n\n  },delayFromPromise)\n\n}\n\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$button","addEventListener","event","preventDefault","toggleAttribute","elements","delay","delay1","step","amount","currentTarget","delayFromPromise","Number","value","stepFromPromise","amountFromPromise","promiseID","setInterval","position1","$47d4ff9957288465$var$position","Promise","resolve","reject","Math","random","position","then","position2","Notify","success","$47d4ff9957288465$var$option","catch","position3","failure","finally","reset","clearInterval","removeAttribute","enableTime","time_24hr","defaultDate","Date","minuteIncrement"],"version":3,"file":"03-promises.7144edc6.js.map"}