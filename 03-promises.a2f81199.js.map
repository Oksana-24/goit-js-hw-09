{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAASF,SAASC,cAAc,UAEtCF,EAAKI,iBAAiB,UAuBtB,SAAkBC,GAChBA,EAAMC,iBACNH,EAAOI,gBAAgB,YAGvB,IAAiEC,EAAnBH,EAAMI,cAA5CC,SAAYC,EAAKH,EAALI,MAAOC,EAAIL,EAAJK,KAAMC,EAAMN,EAANM,OAE7BC,EAAmBC,OAAOL,EAAMM,OAChCC,EAAkBF,OAAOH,EAAKI,OAC9BE,EAAoBH,OAAOF,EAAOG,OAEhCG,EAAYC,aAAY,WAvBhC,IAAuBC,EAAUV,EAsC7B,IAtCmBU,EAyBLC,EAzBeX,EAyBLG,EAxBV,IAAIS,SAAQ,SAACC,EAASC,GAChBC,KAAKC,SAAW,GAEhCH,EAAQ,CAACI,SAAAP,EAASV,UAElBc,EAAO,CAACG,SAAAP,EAASV,S,GAErBA,IAkBGkB,MAAK,SAAAC,G,IAAGC,EAAQD,EAARF,SAAUjB,EAAKmB,EAALnB,MACrBd,EAAAmC,OAAOC,QAAQ,qBAAoCC,OAAfH,EAAS,QAAYG,OAANvB,EAAM,MAAIwB,E,IAE1DC,OAAM,SAAAN,G,IAAGO,EAAQP,EAARF,SAAUjB,EAAKmB,EAALnB,MACtBd,EAAAmC,OAAOM,QAAQ,oBAAmCJ,OAAfG,EAAS,QAAYH,OAANvB,EAAM,MAAIwB,E,IAC3DI,SAAQ,WACTxC,EAAKyC,O,IAMDlB,IAAaJ,EAKf,OAJAI,EAAW,EACXmB,cAActB,QACdjB,EAAOwC,gBAAgB,YAIzBpB,GAAY,EACZR,GAAoBG,C,GAEpBH,E,IAzDJ,IAAIQ,EAAW,EAETa,EAAS,CACbQ,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst button = document.querySelector('button');\n\nform.addEventListener('submit', onSubmit);\n\nlet position = 1;\n\nconst option = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n};\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n  const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({position,delay})\n      } else {\n        reject({position,delay})\n      }\n  },delay)\n  return promise\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  button.toggleAttribute(\"disabled\");\n\n\n  const { elements: { delay, step, amount } } = event.currentTarget;\n\n  let delayFromPromise = Number(delay.value);\n  let stepFromPromise = Number(step.value);\n  let amountFromPromise = Number(amount.value);\n  \n  const promiseID = setInterval(() => {\n\n    createPromise(position, delayFromPromise)\n      .then(({ position, delay }) => {\n    Notify.success(`Fulfilled promise ${position} in ${delay}ms`,option);\n  })\n      .catch(({ position, delay }) => {\n    Notify.failure(`Rejected promise ${position} in ${delay}ms`,option);\n  }).finally(() => {\n    form.reset();\n    // console.log(delayFromPromise);\n    // console.log(stepFromPromise);\n    // console.log(amountFromPromise);\n  })\n    \n    if (position === amountFromPromise) {\n      position = 1;\n      clearInterval(promiseID);\n      button.removeAttribute(\"disabled\");\n      \n      return\n    }\n    position += 1\n    delayFromPromise += stepFromPromise;\n\n  },delayFromPromise)\n\n}\n\n\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$button","addEventListener","event","preventDefault","toggleAttribute","_elements","currentTarget","elements","delay1","delay","step","amount","delayFromPromise","Number","value","stepFromPromise","amountFromPromise","promiseID","setInterval","position1","$ce04d3a99e08e73b$var$position","Promise","resolve","reject","Math","random","position","then","param","position2","Notify","success","concat","$ce04d3a99e08e73b$var$option","catch","position3","failure","finally","reset","clearInterval","removeAttribute","enableTime","time_24hr","defaultDate","Date","minuteIncrement"],"version":3,"file":"03-promises.a2f81199.js.map"}